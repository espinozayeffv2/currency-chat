(this["webpackJsonpcurrency-chat"]=this["webpackJsonpcurrency-chat"]||[]).push([[0],{45:function(e,a,t){e.exports=t(77)},50:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),s=t.n(c),u=(t(50),t(20)),o=t.n(u),i=t(24),l=t(23),m=(t(52),t(100)),f=t(98),p=t(99),d=t(95),b=t(96),v=(t(53),Object(n.forwardRef)((function(e,a){var t=e.message,n=e.username,c=e.currentUser===n;return r.a.createElement("div",{ref:a,className:"message ".concat(c&&"message__user")},r.a.createElement(p.a,{className:c?"message__userCard":"message__guestCard"},r.a.createElement(d.a,null,r.a.createElement(b.a,{variant:"h5",component:"h2"},!c&&"".concat(n||"Usuario desconocido",":"),t))))}))),h=t(41),g=t(40),E=t.n(g),_=t(97),O=t(22),j=t.n(O),y=j.a.create({baseURL:"https://solati-test.herokuapp.com/api"}),k=j.a.create({baseURL:"http://api.currencylayer.com"}),w=t(39),N=new(t.n(w).a)("dbca6b598453283932d2",{cluster:"us2"}),x=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(e){return a.reduce((function(e,a){return a(e)}),e)}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(Math.round(e+"e"+a)+"e-"+a)}),(function(e){var a;return null!==(a=e)&&void 0!==a&&a?Intl.NumberFormat().format(e):0}));function C(){var e=Object(n.useState)(""),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),p=u[0],d=u[1],b=Object(n.useState)("Usuario desconocido"),g=Object(l.a)(b,2),O=g[0],j=g[1],w=function(){var e=Object(i.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("/messages");case 3:a=e.sent,t=a.data,d(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){j(prompt("Por favor, ingresa tu nombre"))}),[]),Object(n.useEffect)((function(){N.subscribe("messages").bind("newMessage",(function(e){return w()}))}),[O]);var C=function(){var e=Object(i.a)(o.a.mark((function e(a){var n,r,s,u,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=null,!t.includes("/convertir")){e.next=11;break}if(!(s=t.split(" ")[1])){e.next=11;break}return e.next=7,k("/live",{params:{access_key:"3b9ca85e040ed075f28083d4abdbd6d4",currencies:"COP"}}).catch(console.error);case 7:u=e.sent,i=u.data,l=s/i.quotes.USDCOP,r="".concat(x(s),"COP equivalen a ").concat(x(l),"USD");case 11:y.post("/message",{username:O,message:null!==(n=r)&&void 0!==n?n:t}),c("");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Bienvenido ",O),r.a.createElement("form",{className:"app__form"},r.a.createElement(m.a,{className:"app__formControl"},r.a.createElement(f.a,{className:"app__input",placeholder:"Escribe un mensaje...",value:t,onChange:function(e){return c(e.target.value)}}),r.a.createElement(_.a,{className:"app__iconButton",variant:"text",color:"primary",disabled:!t,onClick:C,type:"submit"},r.a.createElement(E.a,null)))),r.a.createElement(h.a,{className:"flipMove__custom"},p.map((function(e){var a=e._id,t=e.username,n=e.message;return r.a.createElement(v,{key:a,message:n,username:t,currentUser:O})}))))}s.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.45d29985.chunk.js.map